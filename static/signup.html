<!DOCTYPE html>
<html>
  <head>
    <title>Example Login Form</title>
    <link rel="stylesheet" href="/stylesheets/login.css" />
    <link
      rel="shortcut icon"
      href="https://w7.pngwing.com/pngs/604/618/png-transparent-larsen-toubro-limited-mmh-architectural-engineering-business-l-t-hydrocarbon-engineering-business-blue-text-trademark-thumbnail.png"
      type="image/x-icon"
    />
    <style>
      #loginbtn {
        margin-top: 20px;
        cursor: pointer;
        color: rgb(224, 224, 224);
        text-decoration: underline;
      }
    </style>
    <script src="../public/javascripts/signup.js"></script>
  </head>

  <body>
    <form id="signUpForm">
      <h1>Sign Up Form</h1>
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required /><br />

      <div class="cnt">
        <section>
          <label for="dob">Date of Birth:</label>
          <input
            type="date"
            id="dob"
            name="dob"
            min="1968-01-01"
            max="2000-01-01"
            required
          />
        </section>
        <section>
          <label for="gender">Gender:</label>
          <select name="gender" id="gender" required>
            <option value="" disabled selected>Select</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Others">Others</option>
          </select>
        </section>
      </div>

      <label for="mobileNumber">Mobile Number:</label>
      <input type="text" id="mobileNumber" name="mobileNumber" required /><br />
      <label for="username">Username:</label>
      <input type="text" id="Username" name="Username" required /><br />
      <label for="Password">Password:</label>
      <input type="password" id="Password" name="Password" required /><br />
      <label for="ConfirmPassword">Confirm Password:</label>
      <input
        type="password"
        id="ConfirmPassword"
        name="ConfirmPassword"
        required
      /><br />
      <button type="submit">Submit</button>
      <a href="/login" id="loginbtn">Already Registered</a>
    </form>
    <script>
      document.getElementById("loginbtn").style.cursor = "pointer";
      document
        .getElementById("signUpForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          var ConfirmPassword =
            document.getElementById("ConfirmPassword").value;

          const formData = {
            name: document.getElementById("name").value,
            dob: document.getElementById("dob").value,
            gender: document.getElementById("gender").value,
            mobileNumber: document.getElementById("mobileNumber").value,
            username: document.getElementById("Username").value,
            password: document.getElementById("Password").value,
          };

          if (formData.password != ConfirmPassword) {
            alert("Password , Confirm Password nOt Matched");
          }

          fetch("/signup", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({ dataObj: formData }),
          })
            .then((response) => response.json())
            .then((data) => {
              setTimeout(() => {
                alert("The Teacher is Successfully Registered");
              });
            })
            .catch((error) => {
              console.error("Error:", error);
            });
        });
    </script>
  </body>
</html>
